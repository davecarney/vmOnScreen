/*
* vmOnScreen() 2.2.0
*
* Copyright 2018
*
* By Dave Carney & John Finch, https://vehiclemedia.com/
* Scroll Watching plugin
* 
* 	activate with: $(document).vmOnScreen();
* 	looks for: .vm-anim
*	adds class: .vm-onscreen
*	change defaults:
*			$(document).vmOnScreen([
*				{
*					element: $('SOME_OTHER_ELEMENT'),
*					percent: 0.5
*				},
*				{
*					element: $('SOME_STICKY_ELEMENT'),
*					sticky: true
*				}
*			]);
*
*	Check the readme for more info: https://github.com/davecarney/vmOnScreen
*/
!function(T){T.fn.vmOnScreen=function(n){function o(){if(/iP(hone|od|ad)/.test(navigator.platform)){var n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||0,10)]}}function t(){d.forEach(function(n){n.itemPos=T(n[0]).offset().top-f*n.percent,n.watchDown=!0,n.sticky&&(h=n)})}function i(){u=window.scrollY,d.forEach(function(n){n.itemPos<u&&n.watchDown&&(T(n[0]).addClass("vm-onscreen"),n.watchDown=!1)})}function c(){u=window.scrollY,d.forEach(function(n){var o=T(window).height()*n.percent,t;T(window).scrollTop()>T(n[0]).offset().top-o&&n.watchDown&&(T(n[0]).addClass("vm-onscreen"),n.watchDown=!1)})}function s(n){p<u?(p=u,v++,m=0,y&&v>n.threshold.down&&(k=!(y=!1),T(n[v=0]).removeClass(n.stickyClass))):(p=u,m++,v=0,k&&m>n.threshold.up&&(y=!(k=!1),T(n[m=0]).addClass(n.stickyClass)))}function e(){h?a?(c(),T(window).scroll(function(){5===++C&&(c(),s(h),C=0)})):(i(),T(window).scroll(function(){5===++C&&(i(),s(h),C=0)})):a?(c(),T(window).scroll(function(){5===++C&&(c(),C=0)})):(i(),T(window).scroll(function(){5===++C&&(i(),C=0)}))}var r=o(),a=!1;null!=r&&r[0]<11&&(a=!0);var w={element:T(".vm-anim"),percent:.75,sticky:!1,stickyClass:"sticky-vis",threshold:{up:5,down:10}},l=[];n||(n=T(w).toArray()),n.forEach(function(n){l.push(T.extend({},w,n))});var d=[];l.forEach(function(n){var o={};o.percent=n.percent,o.sticky=n.sticky,o.stickyClass=n.stickyClass,o.threshold=n.threshold,n.element.each(function(){d.push(T.extend({},o,T(this)))})});var f=T(window).height(),h=!1;t();var u,p=window.scrollY,v=0,m=0,y=!0,k=!0,C=4;e();var D=T(window).width(),E;T(window).resize(function(){var o=T(window).scrollTop();clearTimeout(E),E=setTimeout(function(){var n=T(window).width();n===D&&T(window).scrollTop()!==o||(D=n,t(),a||i())},200)})}}(jQuery);